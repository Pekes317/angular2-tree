{"version":3,"sources":["/home/www/projects/angular2-tree/demo/src/$_gendir lazy","/home/www/projects/angular2-tree/demo/src/app/app.component.html","/home/www/projects/angular2-tree/demo/src/app/app.component.ts","/home/www/projects/angular2-tree/demo/src/app/app.module.ts","/home/www/projects/angular2-tree/demo/src/app/localStorage/treeLocalStorage.module.ts","/home/www/projects/angular2-tree/demo/src/app/localStorage/treeLocalStorage.service.ts","/home/www/projects/angular2-tree/demo/src/app/treeOne/treeOne.component.html","/home/www/projects/angular2-tree/demo/src/app/treeOne/treeOne.component.ts","/home/www/projects/angular2-tree/demo/src/app/treeOne/treeOne.module.ts","/home/www/projects/angular2-tree/demo/src/app/treeOne/treeOneNode.service.ts","/home/www/projects/angular2-tree/demo/src/app/treeTwo/newItem.component.html","/home/www/projects/angular2-tree/demo/src/app/treeTwo/newItem.component.less","/home/www/projects/angular2-tree/demo/src/app/treeTwo/newItem.component.ts","/home/www/projects/angular2-tree/demo/src/app/treeTwo/treeTwo.component.html","/home/www/projects/angular2-tree/demo/src/app/treeTwo/treeTwo.component.ts","/home/www/projects/angular2-tree/demo/src/app/treeTwo/treeTwo.module.ts","/home/www/projects/angular2-tree/demo/src/app/treeTwo/treeTwoNode.service.ts","/home/www/projects/angular2-tree/demo/src/main.ts","/home/www/projects/angular2-tree/environments/environment.ts","/home/www/projects/angular2-tree/main.ts","/home/www/projects/angular2-tree/src/dragAndDrop/dragAndDrop.service.ts","/home/www/projects/angular2-tree/src/dragAndDrop/draggable.directive.ts","/home/www/projects/angular2-tree/src/dragAndDrop/droppable.directive.ts","/home/www/projects/angular2-tree/src/dragAndDrop/dropzone/dropzone.component.html","/home/www/projects/angular2-tree/src/dragAndDrop/dropzone/dropzone.component.less","/home/www/projects/angular2-tree/src/dragAndDrop/dropzone/dropzone.component.ts","/home/www/projects/angular2-tree/src/item/item.component.html","/home/www/projects/angular2-tree/src/item/item.component.less","/home/www/projects/angular2-tree/src/item/item.component.ts","/home/www/projects/angular2-tree/src/models/TreeModel.ts","/home/www/projects/angular2-tree/src/service/node.service.ts","/home/www/projects/angular2-tree/src/service/nodesDispatcher.service.ts","/home/www/projects/angular2-tree/src/store/treeActions.service.ts","/home/www/projects/angular2-tree/src/store/treeEffects.service.ts","/home/www/projects/angular2-tree/src/store/treeReducer.ts","/home/www/projects/angular2-tree/src/tree.component.html","/home/www/projects/angular2-tree/src/tree.component.less","/home/www/projects/angular2-tree/src/tree.component.ts","/home/www/projects/angular2-tree/src/tree.module.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncatched exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"../../../../../demo/src/$$_gendir lazy recursive\";\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/www/projects/angular2-tree/demo/src/$$_gendir lazy\n// module id = ../../../../../demo/src/$$_gendir lazy recursive\n// module chunks = main","module.exports = \"<div class=\\\"row\\\">\\n  <div class=\\\"col-sm-6\\\">\\n    <h2>Basic tree</h2>\\n    <app-tree-one></app-tree-one>\\n  </div>\\n  <div class=\\\"col-sm-6\\\">\\n    <h2>Tree with modified ItemComponent</h2>\\n    <app-tree-two></app-tree-two>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/www/projects/angular2-tree/demo/src/app/app.component.html\n// module id = ../../../../../demo/src/app/app.component.html\n// module chunks = main","import {Component} from '@angular/core';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: 'app.component.html'\n})\nexport class AppComponent {\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/www/projects/angular2-tree/demo/src/app/app.component.ts","import {NgModule} from '@angular/core';\nimport {FormsModule} from '@angular/forms';\nimport {AppComponent} from './app.component';\nimport {TreeOneModule} from './treeOne/treeOne.module';\nimport {TreeTwoModule} from './treeTwo/treeTwo.module';\nimport {StoreDevtoolsModule} from '@ngrx/store-devtools';\nimport {TranslateModule, TranslateService} from 'ng2-translate';\nimport {HttpClientModule} from '@angular/common/http';\nimport {StoreModule} from '@ngrx/store';\nimport {EffectsModule} from '@ngrx/effects';\nimport {BrowserAnimationsModule} from '@angular/platform-browser/animations';\nimport {TreeModule} from '../../../src/tree.module';\n\n@NgModule({\n  declarations: [\n    AppComponent\n  ],\n  imports: [\n    BrowserAnimationsModule,\n    FormsModule,\n    HttpClientModule,\n    TreeTwoModule,\n    TreeOneModule,\n    TreeModule.forRoot(),\n    TranslateModule.forRoot(),\n    EffectsModule.forRoot([]),\n    StoreModule.forRoot({}),\n    StoreDevtoolsModule.instrument()\n  ],\n  providers: [],\n  bootstrap: [AppComponent]\n})\nexport class AppModule {\n\n  public constructor(translate: TranslateService) {\n    translate.use('en');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/www/projects/angular2-tree/demo/src/app/app.module.ts","import {BrowserModule} from '@angular/platform-browser';\nimport {NgModule} from '@angular/core';\nimport {HttpModule} from '@angular/http';\nimport {TreeModule} from '../../../../main';\nimport {TreeLocalStorageNodeService} from './treeLocalStorage.service';\n\n@NgModule({\n  declarations: [],\n  exports: [],\n  imports: [\n    BrowserModule,\n    HttpModule,\n    TreeModule\n  ],\n  providers: [TreeLocalStorageNodeService]\n})\nexport class TreeLocalStorageModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/www/projects/angular2-tree/demo/src/app/localStorage/treeLocalStorage.module.ts","import {Injectable} from '@angular/core';\nimport {NodeService, IOuterNode} from '../../../../main';\nimport {Observable} from 'rxjs/Observable';\nimport {UUID} from 'angular2-uuid';\n\n@Injectable()\nexport class TreeLocalStorageNodeService extends NodeService {\n  protected treeName = 'tree';\n\n  protected nodes: IOuterNode[];\n\n  public load(nodeId = ''): Observable<IOuterNode[]> {\n    if (!this.nodes) {\n      this.nodes = this.getAllDataFromLocalStorage();\n    }\n\n    const nodes = this.getChildren(nodeId);\n\n    return Observable.of(nodes);\n  }\n\n  public add(node: IOuterNode, parentNodeId: string = null): Observable<IOuterNode> {\n    node.parentId = parentNodeId;\n    node.id = UUID.UUID();\n\n    this.nodes.push(node);\n\n    this.saveNodes();\n\n    return Observable.of(node);\n  }\n\n  public move(srcNode: IOuterNode, targetNode: IOuterNode | null): Observable<IOuterNode> {\n    const srcId = srcNode.id;\n    const targetId = targetNode ? targetNode.id : null;\n\n    const index = this.findIndexByNodeId(srcId);\n\n    this.nodes[index].parentId = targetId;\n    this.saveNodes();\n\n    return Observable.of(this.nodes[index]);\n  }\n\n  public update(node: IOuterNode): Observable<IOuterNode> {\n    const index = this.findIndexByNodeId(node.id);\n\n    this.nodes[index] = node;\n    this.saveNodes();\n\n    return Observable.of(node);\n  }\n\n  public remove(nodeId: string): Observable<IOuterNode> {\n    const index = this.findIndexByNodeId(nodeId);\n    const node = this.nodes[index];\n\n    const hasChildren = this.getChildren(nodeId).length > 0;\n\n    if (!hasChildren) {\n      this.nodes.splice(index, 1);\n\n      this.saveNodes();\n\n      return Observable.of(node);\n    } else {\n      return Observable.throw('Node is not empty');\n    }\n\n  }\n\n  private findIndexByNodeId(nodeId: string): number {\n    return this.nodes.findIndex((node) => {\n      return node.id === nodeId;\n    });\n  }\n\n  private getChildren(nodeId: string): IOuterNode[] {\n    return this.nodes.filter((node: IOuterNode) => node.parentId === nodeId);\n  }\n\n\n  protected getAllDataFromLocalStorage(): IOuterNode[] {\n    try {\n      const data = localStorage.getItem(this.treeName)\n\n      if (data) {\n        return JSON.parse(data);\n      }\n\n      return [];\n\n    } catch (e) {\n      return [];\n    }\n  }\n\n  private saveNodes() {\n    try {\n      localStorage.setItem(this.treeName, JSON.stringify(this.nodes));\n    } catch (e) {\n      console.warn('State not save');\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/www/projects/angular2-tree/demo/src/app/localStorage/treeLocalStorage.service.ts","module.exports = \"<ri-tree\\n  [treeModel]=\\\"treeModel\\\"\\n></ri-tree>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/www/projects/angular2-tree/demo/src/app/treeOne/treeOne.component.html\n// module id = ../../../../../demo/src/app/treeOne/treeOne.component.html\n// module chunks = main","import {Component, OnInit} from '@angular/core';\nimport {\n  IConfiguration,\n  IContextMenu,\n  ITreeState,\n  ITreeData,\n  TreeActionsService,\n  TreeModel,\n  NodeDispatcherService,\n  treeStateSelector\n} from '../../../../main';\nimport {Store} from '@ngrx/store';\nimport {Observable} from 'rxjs/Observable';\nimport {TreeOneNodeService} from './treeOneNode.service';\nimport {filter, map} from 'rxjs/operators';\n\n@Component({\n  selector: 'app-tree-one',\n  templateUrl: './treeOne.component.html'\n})\nexport class TreeOneComponent implements OnInit {\n  public folders: Observable<ITreeData>;\n\n  public contextMenu: IContextMenu[] = [];\n\n  public treeConfiguration: IConfiguration = {\n    showAddButton: true,\n    disableMoveNodes: false,\n    treeId: 'tree3',\n    dragZone: 'tree3',\n    dropZone: ['tree3'],\n    isAnimation: true\n  };\n\n  public treeModel: TreeModel;\n\n  public constructor(private store: Store<ITreeState>,\n                     private treeActions: TreeActionsService,\n                     private nodeDispatcherService: NodeDispatcherService,\n                     private nodeService: TreeOneNodeService) {\n  }\n\n  public ngOnInit() {\n    const treeId = this.treeConfiguration.treeId;\n    this.nodeDispatcherService.register(treeId, this.nodeService);\n\n    this.store.dispatch(this.treeActions.registerTree(treeId));\n\n    this.folders = this.store.select(treeStateSelector)\n      .pipe(\n        map((data: ITreeState) => {\n          return data[treeId];\n        }),\n        filter((data: ITreeData) => !!data)\n      );\n\n    this.treeModel = new TreeModel(this.folders, this.treeConfiguration);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/www/projects/angular2-tree/demo/src/app/treeOne/treeOne.component.ts","import {BrowserModule} from '@angular/platform-browser';\nimport {NgModule} from '@angular/core';\nimport {FormsModule} from '@angular/forms';\nimport {HttpModule} from '@angular/http';\nimport {TreeModule} from '../../../../main';\nimport {TreeOneNodeService} from './treeOneNode.service';\nimport {TreeOneComponent} from './treeOne.component';\n\n@NgModule({\n  declarations: [TreeOneComponent],\n  exports: [TreeOneComponent],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule,\n    TreeModule\n  ],\n  providers: [TreeOneNodeService]\n})\nexport class TreeOneModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/www/projects/angular2-tree/demo/src/app/treeOne/treeOne.module.ts","import {Injectable} from \"@angular/core\";\nimport {TreeLocalStorageNodeService} from '../localStorage/treeLocalStorage.service';\n\n@Injectable()\nexport class TreeOneNodeService extends TreeLocalStorageNodeService {\n  protected treeName = 'treeOne';\n}\n\n\n\n\n// WEBPACK FOOTER //\n// /home/www/projects/angular2-tree/demo/src/app/treeOne/treeOneNode.service.ts","module.exports = \"<div class=\\\"tree-item row\\\"\\n     [ngClass]=\\\"{'tree-item-selected': isSelected}\\\"\\n     riDroppable\\n     riDraggable\\n     [dragZone]=\\\"treeModel.configuration.dragZone\\\"\\n     [dropConfig]=\\\"{dropAllowedCssClass: 'drop-enabled', dropZone: treeModel.configuration.dropZone}\\\"\\n     [data]=\\\"node\\\"\\n>\\n  <div class=\\\"col-sm-8\\\">\\n    <i *ngIf=\\\"!isExpanded\\\" (click)=\\\"expand()\\\" class=\\\"fa fa-plus pointer\\\"></i>\\n    <i *ngIf=\\\"isExpanded\\\" (click)=\\\"collapse()\\\" class=\\\"fa fa-minus pointer\\\"></i>\\n    <span *ngIf=\\\"!isEditMode\\\" class=\\\"tree-item-name\\\" (click)=\\\"onSelect()\\\">{{node.name}}</span>\\n    <form name=\\\"form\\\">\\n      <input #inputElement type=\\\"text\\\" class=\\\"form-control\\\" *ngIf=\\\"isEditMode\\\" [formControl]=\\\"nameField\\\"\\n             name=\\\"name\\\" (keydown)=\\\"onChange($event)\\\" (blur)=\\\"onBlur($event)\\\"/>\\n    </form>\\n  </div>\\n  <div class=\\\"col-sm-4 text-right\\\">\\n      <span class=\\\"btn-group btn-group-sm\\\">\\n        <button class=\\\"btn btn-primary\\\" (click)=\\\"onEdit($event)\\\" [disabled]=\\\"isEditMode\\\">\\n          <i class=\\\"fa fa-edit\\\"></i>\\n        </button>\\n        <button class=\\\"btn btn-danger\\\" (click)=\\\"onDelete()\\\" [disabled]=\\\"isEditMode\\\">\\n          <i class=\\\"fa fa-trash\\\"></i>\\n        </button>\\n      </span>\\n  </div>\\n</div>\\n<div class=\\\"tree\\\" *ngIf=\\\"isExpanded\\\">\\n  <new-tree-item  *ngFor=\\\"let child of children$ | async\\\" [node]=\\\"child\\\" [treeModel]=\\\"treeModel\\\" [contextMenu]=\\\"contextMenu\\\"></new-tree-item>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/www/projects/angular2-tree/demo/src/app/treeTwo/newItem.component.html\n// module id = ../../../../../demo/src/app/treeTwo/newItem.component.html\n// module chunks = main","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".tree-item {\\n  display: block;\\n  margin: 10px 0;\\n  padding: 10px 5px;\\n  line-height: 30px;\\n  border: 1px solid black;\\n  border-radius: 3px;\\n  background-color: #eee;\\n}\\n.tree-item.drop-enabled {\\n  background-color: red;\\n}\\n.tree-item.tree-item-selected {\\n  background-color: orange;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/www/projects/angular2-tree/demo/src/app/treeTwo/newItem.component.less\n// module id = ../../../../../demo/src/app/treeTwo/newItem.component.less\n// module chunks = main","import {Component} from '@angular/core';\nimport {ItemComponent} from '../../../../main';\n\n@Component({\n  selector: 'new-tree-item',\n  templateUrl: './newItem.component.html',\n  styleUrls: ['./newItem.component.less']\n})\nexport class NewItemComponent extends ItemComponent {\n  public onDelete($event: MouseEvent): void {\n    this.store.dispatch(this.treeActionsService.deleteNode(this.treeModel.treeId, this.node));\n  }\n\n  public onEdit($event: MouseEvent): void {\n    this.store.dispatch(this.treeActionsService.editNodeStart(this.node));\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/www/projects/angular2-tree/demo/src/app/treeTwo/newItem.component.ts","module.exports = \"<ri-tree [treeModel]=\\\"treeModel\\\">\\n  <new-tree-item *ngFor=\\\"let node of treeModel.getRootNodes() | async\\\" [node]=\\\"node\\\" [treeModel]=\\\"treeModel\\\" [contextMenu]=\\\"contextMenu\\\"></new-tree-item>\\n</ri-tree>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/www/projects/angular2-tree/demo/src/app/treeTwo/treeTwo.component.html\n// module id = ../../../../../demo/src/app/treeTwo/treeTwo.component.html\n// module chunks = main","import {Component, OnInit} from '@angular/core';\nimport {IConfiguration, IContextMenu, ITreeState, ITreeData, TreeModel, TreeActionsService, NodeDispatcherService, treeStateSelector} from '../../../../main';\nimport {Store} from '@ngrx/store';\nimport {Observable} from 'rxjs/Observable';\nimport {TreeTwoNodeService} from './treeTwoNode.service';\nimport {filter, map} from 'rxjs/operators';\n\n@Component({\n  selector: 'app-tree-two',\n  templateUrl: './treeTwo.component.html'\n})\nexport class TreeTwoComponent implements OnInit {\n  public folders: Observable<ITreeData>;\n\n  public contextMenu: IContextMenu[] = [];\n\n  public treeConfiguration: IConfiguration = {\n    showAddButton: true,\n    disableMoveNodes: false,\n    treeId: 'tree2',\n    dragZone: 'tree2',\n    dropZone: ['tree2']\n  };\n\n  public treeModel: TreeModel;\n\n  public constructor(private store: Store<ITreeState>,\n                     private treeActions: TreeActionsService,\n                     private nodeDispatcherService: NodeDispatcherService,\n                     private treeTwoNodeService: TreeTwoNodeService) {\n  }\n\n  public ngOnInit() {\n    const treeId = this.treeConfiguration.treeId;\n    this.nodeDispatcherService.register(treeId, this.treeTwoNodeService);\n\n    this.store.dispatch(this.treeActions.registerTree(treeId));\n\n\n    this.folders = this.store.select(treeStateSelector)\n      .pipe(\n        map((data: ITreeState) => {\n          return data[treeId];\n        }),\n        filter((data: ITreeData) => !!data)\n      );\n    this.treeModel = new TreeModel(this.folders, this.treeConfiguration);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/www/projects/angular2-tree/demo/src/app/treeTwo/treeTwo.component.ts","import {BrowserModule} from '@angular/platform-browser';\nimport {NgModule} from '@angular/core';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {HttpModule} from '@angular/http';\nimport {TreeModule} from '../../../../main';\nimport {TreeTwoComponent} from './treeTwo.component';\nimport {NewItemComponent} from './newItem.component';\nimport {TreeTwoNodeService} from './treeTwoNode.service';\nimport {TreeLocalStorageModule} from '../localStorage/treeLocalStorage.module';\n\n@NgModule({\n  declarations: [\n    TreeTwoComponent,\n    NewItemComponent\n  ],\n  exports: [TreeTwoComponent],\n  imports: [\n    BrowserModule,\n    FormsModule,\n    HttpModule,\n    TreeLocalStorageModule,\n    ReactiveFormsModule,\n    TreeModule\n  ],\n  providers: [TreeTwoNodeService]\n})\nexport class TreeTwoModule {\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/www/projects/angular2-tree/demo/src/app/treeTwo/treeTwo.module.ts","import {Injectable} from '@angular/core';\nimport {TreeLocalStorageNodeService} from '../localStorage/treeLocalStorage.service';\n\n@Injectable()\nexport class TreeTwoNodeService extends TreeLocalStorageNodeService {\n  protected treeName = 'treeTwo';\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/www/projects/angular2-tree/demo/src/app/treeTwo/treeTwoNode.service.ts","import {enableProdMode} from '@angular/core';\nimport {platformBrowserDynamic} from '@angular/platform-browser-dynamic';\n\nimport {AppModule} from './app/app.module';\nimport {environment} from '../../environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule);\n\n\n\n// WEBPACK FOOTER //\n// /home/www/projects/angular2-tree/demo/src/main.ts","// The file contents for the current environment will overwrite these during build.\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\n// The list of which env maps to which file can be found in `.angular-cli.json`.\n\nexport const environment = {\n  production: false\n};\n\n\n\n// WEBPACK FOOTER //\n// /home/www/projects/angular2-tree/environments/environment.ts","import {TreeModule} from './src/tree.module';\nimport {TreeComponent} from './src/tree.component';\nimport {ItemComponent} from './src/item/item.component';\nimport {TreeModel} from './src/models/TreeModel';\nimport {IAppConfig} from './src/interfaces/IAppConfig';\nimport {IConfiguration} from './src/interfaces/IConfiguration';\nimport {IContextMenu} from './src/interfaces/IContextMenu';\nimport {IOuterNode} from './src/interfaces/IOuterNode';\nimport {NodeService} from './src/service/node.service';\nimport {IApiConfig} from './src/IApiConfig.service';\nimport {TreeActionsService} from './src/store/treeActions.service';\nimport {NodeDispatcherService} from './src/service/nodesDispatcher.service';\nimport {TreeEffectsService} from './src/store/treeEffects.service';\nimport {ITreeState, ITreeData, ITreeAction} from './src/store/ITreeState';\nimport {treeStateSelector} from './src/store/treeReducer'\nexport {\n  IApiConfig,\n  IAppConfig,\n  IConfiguration,\n  IContextMenu,\n  IOuterNode,\n  ItemComponent,\n  ITreeAction,\n  ITreeData,\n  ITreeState,\n  NodeService,\n  NodeDispatcherService,\n  TreeActionsService,\n  TreeComponent,\n  TreeEffectsService,\n  TreeModel,\n  TreeModule,\n  treeStateSelector\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/www/projects/angular2-tree/main.ts","import {Injectable} from '@angular/core';\nimport {IDragAndDrop, IDragElement, IDropElement} from '../interfaces/IDragAndDrop';\nimport {Subject} from 'rxjs/Subject';\nimport {BehaviorSubject} from 'rxjs/BehaviorSubject';\nimport {Observable} from 'rxjs/Observable';\nimport 'rxjs/add/operator/withLatestFrom';\n\n@Injectable()\nexport class DragAndDrop {\n  public static DROP_DATA_TYPE = 'TREE_NODE';\n\n  protected dropStream$: Subject<IDropElement | null> = new Subject();\n  protected dragStream$: BehaviorSubject<IDragElement | null> = new BehaviorSubject(null);\n\n  public drop$ = new Observable();\n\n  public constructor() {\n    this.drop$ = this.dropStream$.withLatestFrom(this.dragStream$, (dropNode: IDropElement, dragNode: IDragElement): IDragAndDrop => {\n      return {dragNode: dragNode, dropNode: dropNode, type: dragNode.type};\n    });\n  }\n\n  public dragStart(dragElement: IDragElement) {\n    this.dragStream$.next(dragElement);\n  }\n\n  public dragEnd(dropElement: IDropElement | null) {\n    this.dropStream$.next(dropElement);\n  }\n\n  public getDragStream(): BehaviorSubject<IDragElement | null> {\n    return this.dragStream$;\n  }\n\n  public getLastDragElement(): IDragElement {\n    return this.dragStream$.getValue();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/www/projects/angular2-tree/src/dragAndDrop/dragAndDrop.service.ts","import {Directive, ElementRef, Input, OnInit, Renderer} from '@angular/core';\nimport {DragAndDrop} from './dragAndDrop.service';\n\n@Directive({\n  selector: '[riDraggable]'\n})\nexport class DraggableDirective implements OnInit {\n  @Input() data: any;\n  @Input() dragZone: string | null = null;\n  @Input() sourceType: string = DragAndDrop.DROP_DATA_TYPE;\n\n  public dragEnabled = true;\n\n  public constructor(protected el: ElementRef,\n                     private renderer: Renderer,\n                     protected dragAndDrop: DragAndDrop) {\n    renderer.listen(el.nativeElement, 'dragstart', ($event) => {\n      if (this.dragEnabled) {\n        this.onDragStart($event);\n      }\n    });\n\n    renderer.listen(el.nativeElement, 'dragend', () => {\n      // on drag end we reset last drag element (this event is fired after drop)\n      this.dragAndDrop.dragStart(null);\n    });\n  }\n\n  private onDragStart($event: DragEvent) {\n    this.dragAndDrop.dragStart({zoneId: this.dragZone, data: this.data, type: this.sourceType});\n\n    $event.dataTransfer.effectAllowed = 'copy';\n    $event.dataTransfer.dropEffect = 'copy';\n  }\n\n  public ngOnInit() {\n    this.el.nativeElement.draggable = this.dragEnabled;\n\n    if (!this.data) {\n      throw new Error('DraggableDirective needs data');\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/www/projects/angular2-tree/src/dragAndDrop/draggable.directive.ts","import {Directive, ElementRef, Input, OnInit, Renderer} from '@angular/core';\nimport {DragAndDrop} from './dragAndDrop.service';\nimport {IOuterNode} from '../interfaces/IOuterNode';\n\nexport interface DropConfig {\n  dropAllowedCssClass?: string;\n  dropZone?: string[] | null;\n}\n\n\n@Directive({\n  selector: '[riDroppable]'\n})\nexport class DroppableDirective implements OnInit {\n  @Input() data: IOuterNode;\n  @Input() dropConfig: DropConfig = {};\n\n  public constructor(protected el: ElementRef, private renderer: Renderer, protected dragAndDrop: DragAndDrop) {\n    renderer.listen(el.nativeElement, 'dragover', ($event) => {\n      $event.preventDefault();\n      const dropAllowed = this.isDropAllowed();\n\n      this.changeTargetCursor($event, dropAllowed);\n      this.toggleDropClass(dropAllowed);\n    });\n\n    renderer.listen(el.nativeElement, 'dragleave', ($event) => {\n      $event.preventDefault();\n      this.toggleDropClass(false);\n    });\n\n    renderer.listen(el.nativeElement, 'drop', () => {\n      this.toggleDropClass(false);\n\n      if (this.isDropAllowed()) {\n        this.dragAndDrop.dragEnd({zones: this.dropConfig.dropZone, data: this.data});\n      }\n    });\n  }\n\n  public ngOnInit() {\n    this.initConfig();\n\n    if (!this.data) {\n      throw new Error('DroppableDirective needs data');\n    }\n  }\n\n  /**\n   * Add or remove additional class when drop allowed\n   * @param dropAllowed\n   */\n  private toggleDropClass(dropAllowed = false) {\n    this.renderer.setElementClass(this.el.nativeElement, this.dropConfig.dropAllowedCssClass, dropAllowed);\n  }\n\n  private isDropAllowed = function () {\n    const lastDragElement = this.dragAndDrop.getLastDragElement();\n    const source = lastDragElement.data;\n    const target = this.data;\n    const dropZone = this.dropConfig.dropZone;\n\n    if (dropZone && dropZone.length > 0 && dropZone.indexOf(lastDragElement.zoneId) === -1) {\n      return false;\n    }\n\n    // todo: check drag and drop zones\n    return !(source === target || target.id === source.parentId || target.parents.indexOf(source.id) > -1);\n  };\n\n  /**\n   * Change drag event cursor\n   * @param $event\n   * @param add\n   */\n  private changeTargetCursor($event: DragEvent, add = false) {\n    const cursorType = add ? 'copy' : 'none';\n\n    $event.dataTransfer.effectAllowed = cursorType;\n    $event.dataTransfer.dropEffect = cursorType;\n  }\n\n  /**\n   * initialize configuration options, use default or passed\n   */\n  private initConfig(): void {\n    const defaultConfig: DropConfig = {\n      dropAllowedCssClass: 'drop-allowed'\n    };\n\n    for (const key in defaultConfig) {\n      if (defaultConfig.hasOwnProperty(key)) {\n        this.dropConfig[key] = this.dropConfig[key] || defaultConfig[key];\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/www/projects/angular2-tree/src/dragAndDrop/droppable.directive.ts","module.exports = \"<div *ngIf=\\\"isOpen$ | async\\\" (drop)=\\\"onDrop($event)\\\" (dragover)=\\\"onDragOver($event)\\\" class=\\\"dropzone\\\">\\n  {{'RI_TREE_LBL_DROP_ZONE' | translate}}\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/www/projects/angular2-tree/src/dragAndDrop/dropzone/dropzone.component.html\n// module id = ../../../../../src/dragAndDrop/dropzone/dropzone.component.html\n// module chunks = main","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".dropzone {\\n  display: inline-block;\\n  border: 1px dotted red;\\n  padding: 10px;\\n  background-color: rgba(255, 0, 0, 0.3);\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/www/projects/angular2-tree/src/dragAndDrop/dropzone/dropzone.component.less\n// module id = ../../../../../src/dragAndDrop/dropzone/dropzone.component.less\n// module chunks = main","import {Component, Input} from '@angular/core';\nimport {TreeModel} from '../../models/TreeModel';\nimport {DragAndDrop} from '../dragAndDrop.service';\nimport {IDragAndDrop, IDragElement} from '../../interfaces/IDragAndDrop';\nimport {Observable} from 'rxjs/Observable';\nimport {map} from 'rxjs/operators';\nimport 'rxjs/add/observable/merge';\n\n@Component({\n  selector: 'ri-dropzone',\n  templateUrl: './dropzone.component.html',\n  styleUrls: ['./dropzone.component.less']\n})\nexport class DropzoneComponent {\n  @Input() treeModel: TreeModel;\n  @Input() dropZone: string[] = [];\n\n  public isOpen$: Observable<boolean>;\n\n  constructor(public dragAndDrop: DragAndDrop) {\n\n    const isDragStart$ = this.dragAndDrop.getDragStream()\n      .pipe(\n        map((dragElement: IDragElement): boolean => {\n          const isDragElement = !!dragElement && !!dragElement.data;\n\n          if (isDragElement) {\n            if (dragElement.type === DragAndDrop.DROP_DATA_TYPE) {\n              const isNotRootElement = dragElement.data.parentId;\n              const isFromCurrentTree = dragElement.data.treeId === this.treeModel.treeId;\n\n              return (isNotRootElement && isFromCurrentTree) ? true : false;\n            } else {\n              return true;\n            }\n          }\n\n          return false;\n        })\n      );\n\n    const isDragEnd$ = this.dragAndDrop.drop$\n      .pipe(\n        map((data: IDragAndDrop): boolean => {\n          return false;\n        })\n      );\n\n    this.isOpen$ = Observable.merge(isDragStart$, isDragEnd$);\n  }\n\n  public onDrop() {\n    this.dragAndDrop.dragEnd(null);\n  }\n\n  public onDragOver($event) {\n    $event.preventDefault();\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/www/projects/angular2-tree/src/dragAndDrop/dropzone/dropzone.component.ts","module.exports = \"<div class=\\\"tree-item\\\"\\n     [ngClass]=\\\"{'tree-item-selected': isSelected}\\\"\\n     (contextmenu)=\\\"onContextMenu($event)\\\"\\n     riDroppable\\n     riDraggable\\n     [dragZone]=\\\"treeModel.configuration.dragZone\\\"\\n     [dropConfig]=\\\"{dropAllowedCssClass: 'drop-allowed', dropZone: treeModel.configuration.dropZone}\\\"\\n     [data]=\\\"node\\\"\\n>\\n  <i *ngIf=\\\"!isExpanded\\\" (click)=\\\"expand()\\\" class=\\\"fa fa-caret-right pointer\\\"></i>\\n  <i *ngIf=\\\"isExpanded\\\" (click)=\\\"collapse()\\\" class=\\\"fa fa-caret-down pointer\\\"></i>\\n  <span *ngIf=\\\"!isEditMode\\\" class=\\\"tree-item-name\\\" (click)=\\\"onSelect()\\\">{{node.name}}</span>\\n  <form name=\\\"form\\\">\\n    <input #inputElement type=\\\"text\\\" class=\\\"form-control\\\" *ngIf=\\\"isEditMode\\\" [formControl]=\\\"nameField\\\"\\n           name=\\\"name\\\" (keydown)=\\\"onChange($event)\\\" (blur)=\\\"onBlur($event)\\\"/>\\n  </form>\\n</div>\\n<div class=\\\"tree\\\" [@isExpanded]=\\\"animationState\\\" (@isExpanded.done)=\\\"onAnimationDone($event)\\\">\\n  <div *ngIf=\\\"isExpanded\\\">\\n    <ri-tree-item *ngFor=\\\"let child of children$ | async\\\" [node]=\\\"child\\\" [treeModel]=\\\"treeModel\\\"\\n                  [contextMenu]=\\\"contextMenu\\\"></ri-tree-item>\\n  </div>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/www/projects/angular2-tree/src/item/item.component.html\n// module id = ../../../../../src/item/item.component.html\n// module chunks = main","exports = module.exports = require(\"../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".drop-allowed .tree-item-name {\\n  background-color: rgba(255, 0, 0, 0.3);\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/www/projects/angular2-tree/src/item/item.component.less\n// module id = ../../../../../src/item/item.component.less\n// module chunks = main","import {\n  Component, ViewChild, Input, ViewEncapsulation, OnInit, AfterViewInit\n} from '@angular/core';\nimport {FormControl} from '@angular/forms';\nimport {ContextMenuComponent, ContextMenuService} from 'ngx-contextmenu';\nimport {IOuterNode} from '../interfaces/IOuterNode';\nimport {TreeActionsService} from '../store/treeActions.service';\nimport {Action, Store} from '@ngrx/store';\nimport {ITreeAction, ITreeState} from '../store/ITreeState';\nimport {Observable} from 'rxjs/Observable';\nimport {TreeModel} from '../models/TreeModel';\nimport {Actions} from '@ngrx/effects';\nimport {animate, AnimationEvent, state, style, transition, trigger} from '@angular/animations';\nimport {filter} from 'rxjs/operators';\n\n@Component({\n  encapsulation: ViewEncapsulation.None,\n  selector: 'ri-tree-item',\n  templateUrl: './item.component.html',\n  styleUrls: ['./item.component.less'],\n  animations: [\n    trigger('isExpanded', [\n      state('inactive', style({\n        height: 0,\n        opacity: 0,\n        transform: 'scaleY(0)'\n      })),\n      state('active', style({\n        transform: 'scaleY(1)'\n      })),\n      transition('inactive => active', animate('300ms')),\n      transition('active => inactive', animate('300ms'))\n    ])\n  ]\n})\nexport class ItemComponent implements OnInit, AfterViewInit {\n  /**\n   * Input field where we can change data name\n   */\n  @ViewChild('inputElement') input: any;\n\n  /**\n   * Node instance\n   */\n  @Input() node: IOuterNode;\n\n  @Input() treeModel: TreeModel;\n\n  @Input() contextMenu: ContextMenuComponent;\n\n  /**\n   * Form field to change data name\n   * @type {FormControl}\n   */\n  public nameField = new FormControl();\n\n  public isEditMode = false;\n  public isSelected = false;\n  public isExpanded = false;\n  public animationState = null;\n\n  public children$: Observable<IOuterNode[]>;\n\n\n  protected insert$: Observable<Action> = this.actions$\n    .ofType(TreeActionsService.TREE_INSERT_NODE)\n    .pipe(\n      filter((action: ITreeAction) => {\n        return action.payload && action.payload.id === this.node.id;\n      })\n    );\n\n  protected isStartSave = false;\n\n\n  /**\n   * @param contextMenuService\n   */\n  public constructor(protected store: Store<ITreeState>,\n                     protected treeActionsService: TreeActionsService,\n                     protected contextMenuService: ContextMenuService,\n                     protected actions$: Actions) {\n\n    this.actions$\n      .ofType(TreeActionsService.TREE_EXPAND_NODE)\n      .pipe(\n        filter((action: ITreeAction): boolean => {\n          return !this.isExpanded && action.payload.node && this.node.id === action.payload.node.id;\n        })\n      )\n      .subscribe(() => {\n        this.expand();\n      });\n  }\n\n  public ngAfterViewInit() {\n    if (this.isEditMode) {\n      this.setFocus();\n    }\n  }\n\n  public ngOnInit() {\n    if (this.treeModel.configuration.isAnimation) {\n      this.animationState = 'inactive';\n    }\n\n    this.isEditMode = this.node.id === null;\n\n    this.children$ = this.treeModel.getChildren(this.node.id);\n\n    this.insert$\n      .pipe(\n        filter((action: ITreeAction) => {\n          return Boolean(action.payload.id);\n        })\n      )\n      .subscribe(() => {\n        this.expand();\n      });\n\n    this.treeModel.currentSelectedNode$\n      .subscribe((node: IOuterNode) => {\n        this.isSelected = (node && node.id === this.node.id) ? true : false;\n      });\n\n    this.actions$\n      .ofType(TreeActionsService.TREE_EDIT_NODE_START)\n      .pipe(\n        filter((action: ITreeAction) => action.payload.node === this.node)\n      )\n      .subscribe((action: ITreeAction) => {\n        this.nameField.setValue(this.node.name);\n        this.isEditMode = true;\n        this.setFocus();\n      });\n\n  }\n\n  public collapse() {\n    if (this.treeModel.configuration.isAnimation) {\n      this.animationState = 'inactive';\n    } else {\n      this.isExpanded = false;\n    }\n  }\n\n  public expand() {\n    if (this.treeModel.configuration.isAnimation) {\n      this.animationState = 'active';\n    }\n\n    this.isExpanded = true;\n    this.store.dispatch(this.treeActionsService.loadTree(this.treeModel.treeId, this.node.id));\n  }\n\n  public onAnimationDone($event: AnimationEvent): void {\n    if ($event.toState === 'inactive') {\n      this.isExpanded = false;\n    }\n  }\n\n  public onBlur() {\n    if (this.isStartSave) {\n      this.isStartSave = false;\n    } else {\n      this.undoChanges();\n    }\n  }\n\n  public onChange(event: KeyboardEvent) {\n    event.stopPropagation();\n\n    if (event.keyCode === 27) {\n      this.undoChanges();\n    } else if (event.keyCode === 13) {\n      this.isStartSave = true;\n      const node: IOuterNode = {\n        id: this.node.id,\n        treeId: this.node.treeId,\n        name: this.nameField.value,\n        parentId: this.node.parentId,\n        children: this.node.children,\n        parents: this.node.parents\n      };\n\n      this.store.dispatch(this.treeActionsService.saveNode(this.treeModel.treeId, node));\n      this.isEditMode = false;\n    }\n  }\n\n  public onContextMenu($event: MouseEvent) {\n    if (!this.treeModel.configuration.disableContextMenu) {\n      this.contextMenuService.show.next({\n        contextMenu: this.contextMenu,\n        event: $event,\n        item: this.node\n      });\n    }\n\n    $event.preventDefault();\n    $event.stopPropagation();\n  }\n\n  public onSelect() {\n    this.treeModel.currentSelectedNode$.next(this.isSelected ? null : this.node);\n  }\n\n  protected isNewNode() {\n    return this.node.id === null;\n  }\n\n  protected setFocus() {\n    setTimeout(() => this.input.nativeElement.focus());\n  }\n\n  protected undoChanges() {\n    this.isEditMode = false;\n\n    if (this.isNewNode()) {\n      this.store.dispatch(this.treeActionsService.deleteNode(this.treeModel.treeId, this.node));\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/www/projects/angular2-tree/src/item/item.component.ts","import {IOuterNode} from '../interfaces/IOuterNode';\nimport {Observable} from 'rxjs/Observable';\nimport {IConfiguration} from '../interfaces/IConfiguration';\nimport {ITreeData} from '../store/ITreeState';\nimport {BehaviorSubject} from 'rxjs/BehaviorSubject';\nimport {map} from 'rxjs/operators';\n\nexport class TreeModel {\n  public currentSelectedNode$: BehaviorSubject<IOuterNode> = new BehaviorSubject(null);\n\n  public get treeId(): string {\n    return this.configuration.treeId;\n  }\n\n  public constructor(private nodes$: Observable<ITreeData>,\n                     public configuration: IConfiguration) {\n    this.initConfiguration();\n  }\n\n  public getRootNodes() {\n    return this.getChildren(null);\n  }\n\n  public getChildren(nodeId: string | null) {\n    return this.nodes$\n      .pipe(\n        map((state: ITreeData): IOuterNode[] => this.getNodesByParentId(state, nodeId)),\n        map((nodes: IOuterNode[]) => {\n          return nodes.sort(this.sortNodes);\n        })\n      );\n  }\n\n  private initConfiguration(): void {\n    const defaultConfiguration: IConfiguration = {\n      disableMoveNodes: false,\n      dragZone: null,\n      dropZone: null,\n      treeId: 'tree',\n      showAddButton: true,\n      isAnimation: false,\n    };\n\n    for (const key in defaultConfiguration) {\n      if (this.configuration[key] === undefined) {\n        this.configuration[key] = defaultConfiguration[key];\n      }\n    }\n  }\n\n  private getNodesByParentId(state: ITreeData, id: string | null): IOuterNode[] {\n    return Object.keys(state)\n      .filter((key: string) => state[key].parentId === id)\n      .map((key: string) => state[key]);\n  }\n\n  private sortNodes(first: IOuterNode, second: IOuterNode): number {\n    if (second.id === null) {\n      return 1;\n    }\n\n    return first.name > second.name ? 1 : -1;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/www/projects/angular2-tree/src/models/TreeModel.ts","import {Injectable} from '@angular/core';\nimport {Observable} from 'rxjs/Observable';\nimport {IOuterNode} from '../interfaces/IOuterNode';\nimport {IApiConfig} from '../IApiConfig.service';\nimport {HttpClient, HttpParams} from '@angular/common/http';\n\nexport interface INodeService {\n  load(nodeId: string): Observable<IOuterNode[]>;\n\n  add(node: IOuterNode, parentNodeId: string | null): Observable<IOuterNode>;\n\n  move(srcNode: IOuterNode, targetNode: IOuterNode | null): Observable<IOuterNode>;\n\n  update(node: IOuterNode): Observable<IOuterNode>;\n\n  remove(nodeId: string): Observable<IOuterNode>;\n}\n\n@Injectable()\nexport class NodeService implements INodeService {\n  protected apiConfig: IApiConfig = {\n    addUrl: '/api/nodes',\n    getUrl: '/api/nodes',\n    moveUrl: '/api/nodes/move',\n    updateUrl: '/api/nodes',\n    removeUrl: '/api/nodes',\n  };\n\n  public constructor(protected http: HttpClient) {\n  }\n\n  public load(nodeId = ''): Observable<IOuterNode[]> {\n    const params = new HttpParams().set('nodeId', nodeId);\n\n    return this.http.get<IOuterNode[]>(this.getPath('GET', nodeId), {params});\n  }\n\n\n  public add(node: IOuterNode, parentNodeId: string = null): Observable<IOuterNode> {\n    return this.http.post<IOuterNode>(this.getPath('CREATE', parentNodeId), {\n      node: node,\n      parentNodeId: parentNodeId\n    });\n  }\n\n  public move(srcNode: IOuterNode, targetNode: IOuterNode | null): Observable<IOuterNode> {\n    const srcId = srcNode.id;\n    const targetId = targetNode ? targetNode.id : null;\n\n    return this.http.put<IOuterNode>(this.getPath('MOVE', srcId, targetId), {source: srcId, target: targetId});\n  }\n\n  public update(node: IOuterNode): Observable<IOuterNode> {\n    return this.http.put<IOuterNode>(this.getPath('UPDATE', node.id), node);\n  }\n\n  public remove(nodeId: string): Observable<IOuterNode> {\n    const params = new HttpParams().set('nodeId', nodeId);\n\n    return this.http.delete<IOuterNode>(this.getPath('REMOVE', nodeId), {params});\n  }\n\n  /**\n   *\n   * Replace in url nodeIds\n   *\n   * @param type\n   * @param nodeId\n   * @param destNodeId\n   * @returns {void|string|any}\n   */\n  protected getPath(type: string, nodeId: string, destNodeId: string = null) {\n    if (!this.apiConfig) {\n      throw new Error('No API configuration for Tree');\n    }\n\n    const urlMap = {\n      'GET': this.apiConfig.getUrl,\n      'CREATE': this.apiConfig.addUrl,\n      'REMOVE': this.apiConfig.removeUrl,\n      'UPDATE': this.apiConfig.updateUrl,\n      'MOVE': this.apiConfig.moveUrl\n    };\n\n    let path = this.replaceNodeId(urlMap[type], nodeId);\n\n    if (destNodeId) {\n      path = this.replaceDestNodeId(path, destNodeId);\n    }\n\n    return path;\n  }\n\n  protected replaceNodeId(url: string, nodeId: string) {\n    return url.replace('{nodeId}', nodeId);\n  }\n\n  protected replaceDestNodeId(url: string, nodeId: string) {\n    return url.replace('{destNodeId}', nodeId);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/www/projects/angular2-tree/src/service/node.service.ts","import {Injectable} from '@angular/core';\nimport {INodeService, NodeService} from './node.service';\n\n@Injectable()\nexport class NodeDispatcherService {\n  private services: { [key: string]: INodeService } = {};\n\n  constructor(nodeService: NodeService) {\n    this.services['tree'] = nodeService;\n  }\n\n  public register(key: string, service: INodeService): NodeDispatcherService {\n    this.services[key] = service;\n\n    return this;\n  }\n\n  public unregister(key: string): NodeDispatcherService {\n    if (this.services[key]) {\n      delete this.services[key];\n    } else {\n      console.warn('[NodeDispatcherService] No service for key ' + key);\n    }\n\n    return this;\n  }\n\n  public get(key: string): INodeService {\n    if (this.services[key]) {\n      return this.services[key];\n    } else {\n      throw new Error('[NodeDispatcherService] No service for key ' + key);\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/www/projects/angular2-tree/src/service/nodesDispatcher.service.ts","import {Injectable} from '@angular/core';\nimport {IOuterNode} from '../interfaces/IOuterNode';\nimport {Action} from '@ngrx/store';\nimport {ITreeAction} from './ITreeState';\n\n@Injectable()\nexport class TreeActionsService {\n  static TREE_SAVE_NODE = 'TREE_SAVE_NODE';\n  static TREE_SAVE_NODE_SUCCESS = 'TREE_SAVE_NODE_SUCCESS';\n  static TREE_SAVE_NODE_ERROR = 'TREE_SAVE_NODE_ERROR';\n  static TREE_DELETE_NODE = 'TREE_DELETE_NODE';\n  static TREE_DELETE_NODE_SUCCESS = 'TREE_DELETE_NODE_SUCCESS';\n  static TREE_DELETE_NODE_ERROR = 'TREE_DELETE_NODE_ERROR';\n  static TREE_EDIT_NODE_START = 'TREE_EDIT_NODE_START';\n  static TREE_EXPAND_NODE = 'TREE_EXPAND_NODE';\n  static TREE_INSERT_NODE = 'TREE_INSERT_NODE';\n  static TREE_LOAD = 'TREE_LOAD';\n  static TREE_LOAD_SUCCESS = 'TREE_LOAD_SUCCESS';\n  static TREE_LOAD_ERROR = 'TREE_LOAD_ERROR';\n  static TREE_MOVE_NODE = 'TREE_MOVE_NODE';\n  static TREE_MOVE_NODE_SUCCESS = 'TREE_MOVE_NODE_SUCCESS';\n  static TREE_MOVE_NODE_ERROR = 'TREE_MOVE_NODE_ERROR';\n\n  static TREE_REGISTER = 'TREE_REGISTER';\n\n  public registerTree(treeId: string): ITreeAction {\n    return {\n      type: TreeActionsService.TREE_REGISTER,\n      payload: {\n        treeId: treeId\n      }\n    };\n  }\n\n  public editNodeStart(node: IOuterNode): ITreeAction {\n    return {\n      type: TreeActionsService.TREE_EDIT_NODE_START,\n      payload: {\n        node,\n        treeId: node.treeId\n      }\n    };\n  }\n\n  public saveNode(treeId: string, node: IOuterNode): ITreeAction {\n    return {\n      type: TreeActionsService.TREE_SAVE_NODE,\n      payload: {\n        treeId: treeId,\n        node: node\n      }\n    };\n  }\n\n  public saveNodeSuccess(treeId: string, oldNode: IOuterNode, node: IOuterNode): ITreeAction {\n    return {\n      type: TreeActionsService.TREE_SAVE_NODE_SUCCESS,\n      payload: {\n        treeId: treeId,\n        oldNode: oldNode,\n        node: node\n      }\n    };\n  }\n\n  public saveNodeError(treeId: string, node: IOuterNode): ITreeAction {\n    return {\n      type: TreeActionsService.TREE_SAVE_NODE_ERROR,\n      payload: {\n        treeId: treeId,\n        node: node\n      }\n    };\n  }\n\n  public deleteNode(treeId: string, node: IOuterNode): ITreeAction {\n    return {\n      type: TreeActionsService.TREE_DELETE_NODE,\n      payload: {\n        treeId: treeId,\n        node: node\n      }\n    };\n  }\n\n  public expandNode(treeId: string, node: IOuterNode): ITreeAction {\n    return {\n      type: TreeActionsService.TREE_EXPAND_NODE,\n      payload: {\n        treeId: treeId,\n        node: node\n      }\n    };\n  }\n\n  public deleteNodeSuccess(treeId: string, node: IOuterNode): ITreeAction {\n    return {\n      type: TreeActionsService.TREE_DELETE_NODE_SUCCESS,\n      payload: {\n        treeId: treeId,\n        node: node\n      }\n    };\n  }\n\n  public deleteNodeError(treeId: string, node: IOuterNode): ITreeAction {\n    return {\n      type: TreeActionsService.TREE_DELETE_NODE_ERROR,\n      payload: {\n        treeId: treeId,\n        node: node\n      }\n    };\n  }\n\n  public insertNode(treeId: string, parentId: string | null): ITreeAction {\n    return {\n      type: TreeActionsService.TREE_INSERT_NODE,\n      payload: {\n        treeId: treeId,\n        id: parentId\n      }\n    };\n  }\n\n  public loadTree(treeId: string, id: string | null): ITreeAction {\n    return {\n      type: TreeActionsService.TREE_LOAD,\n      payload: {\n        treeId: treeId,\n        id: id\n      }\n    };\n  }\n\n  public loadTreeSuccess(treeId: string, id: string | null, nodes: IOuterNode[]): ITreeAction {\n    return {\n      type: TreeActionsService.TREE_LOAD_SUCCESS,\n      payload: {\n        treeId: treeId,\n        id: id,\n        nodes: nodes\n      }\n    };\n  }\n\n  public loadTreeError(treeId: string, id: string | null): ITreeAction {\n    return {\n      type: TreeActionsService.TREE_LOAD_ERROR,\n      payload: {\n        treeId: treeId,\n        id: id\n      }\n    };\n  }\n\n  public moveNode(type: string, treeId: string, source: any, target: IOuterNode | null): ITreeAction {\n    return {\n      type: TreeActionsService.TREE_MOVE_NODE,\n      payload: {\n        sourceOfDroppedData: type,\n        treeId: treeId,\n        oldNode: source,\n        node: target\n      }\n    };\n  }\n\n  public moveNodeSuccess(treeId: string, source: IOuterNode, target: IOuterNode): ITreeAction {\n    return {\n      type: TreeActionsService.TREE_MOVE_NODE_SUCCESS,\n      payload: {\n        treeId: treeId,\n        source: source,\n        target: target\n      }\n    };\n  }\n\n  public moveNodeError(treeId: string, source: IOuterNode, target: IOuterNode): ITreeAction {\n    return {\n      type: TreeActionsService.TREE_MOVE_NODE_ERROR,\n      payload: {\n        treeId: treeId,\n        source: source,\n        target: target\n      }\n    };\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/www/projects/angular2-tree/src/store/treeActions.service.ts","import {Injectable} from '@angular/core';\nimport {Actions, Effect} from '@ngrx/effects';\nimport {TreeActionsService} from './treeActions.service';\nimport {IOuterNode} from '../interfaces/IOuterNode';\nimport {Observable} from 'rxjs/Observable';\nimport {ITreeAction, ITreeActionPayload} from './ITreeState';\nimport {NodeDispatcherService} from '../service/nodesDispatcher.service';\nimport {DragAndDrop} from '../dragAndDrop/dragAndDrop.service';\nimport {catchError, filter, map, mergeMap, switchMap} from 'rxjs/operators';\nimport 'rxjs/add/observable/of';\n\n@Injectable()\nexport class TreeEffectsService {\n\n  @Effect() register$ = this.actions$\n    .ofType(TreeActionsService.TREE_REGISTER)\n    .pipe(\n      map((action: ITreeAction): ITreeAction => this.treeActions.loadTree(action.payload.treeId, null))\n    );\n\n  @Effect() load$ = this.actions$\n    .ofType(TreeActionsService.TREE_LOAD)\n    .pipe(\n      mergeMap((action: ITreeAction) => this.loadNodes(action.payload.treeId, action.payload.id)\n        .pipe(\n          map((nodesData: IOuterNode[]): ITreeAction => this.treeActions.loadTreeSuccess(action.payload.treeId, action.payload.id, nodesData)),\n          catchError(() => Observable.of(this.treeActions.loadTreeError(action.payload.treeId, action.payload.id)))\n        )\n      )\n    );\n\n\n  @Effect() delete$ = this.actions$\n    .ofType(TreeActionsService.TREE_DELETE_NODE)\n    .pipe(\n      switchMap((action: ITreeAction) => this.deleteNode(action.payload.treeId, action.payload.node)\n        .pipe(\n          map((): ITreeAction => this.treeActions.deleteNodeSuccess(action.payload.treeId, action.payload.node)),\n          catchError((): Observable<ITreeAction> => Observable.of(this.treeActions.deleteNodeError(action.payload.treeId, action.payload.node)))\n        )\n      )\n    );\n\n\n  @Effect() save$ = this.actions$\n    .ofType(TreeActionsService.TREE_SAVE_NODE)\n    .pipe(\n      switchMap((action: ITreeAction) => this.saveNode(action.payload.treeId, action.payload.node)\n        .pipe(\n          map((node: IOuterNode): ITreeAction => this.treeActions.saveNodeSuccess(action.payload.treeId, action.payload.node, node)),\n          catchError(() => Observable.of(this.treeActions.saveNodeError(action.payload.treeId, action.payload.node)))\n        )\n      )\n    );\n\n  @Effect() move$ = this.actions$\n    .ofType(TreeActionsService.TREE_MOVE_NODE)\n    .pipe(\n      filter((action: ITreeAction) => {\n        return action.payload.sourceOfDroppedData === DragAndDrop.DROP_DATA_TYPE;\n      }),\n      switchMap((action: ITreeAction) => this.moveNode(action.payload.treeId, action.payload.oldNode, action.payload.node)\n        .pipe(\n          map((node: IOuterNode): ITreeActionPayload => {\n            return {\n              treeId: action.payload.treeId,\n              oldNode: action.payload.oldNode,\n              node: node\n            };\n          }),\n          catchError(() => {\n            this.treeActions.moveNodeError(action.payload.treeId, action.payload.oldNode, action.payload.node);\n\n            return Observable.of(action.payload);\n          })\n        )\n      ),\n      mergeMap((data: ITreeActionPayload) => {\n        return [\n          this.treeActions.moveNodeSuccess(data.treeId, data.oldNode, data.node),\n          this.treeActions.loadTree(data.treeId, data.node.parentId)\n        ];\n      })\n    );\n\n  constructor(private actions$: Actions,\n              private treeActions: TreeActionsService,\n              private nodeDispatcherService: NodeDispatcherService) {\n  }\n\n  protected deleteNode(treeId: string, node: IOuterNode): Observable<IOuterNode> {\n    const nodeService = this.nodeDispatcherService.get(treeId);\n\n    return node.id ? nodeService.remove(node.id) : Observable.of(node);\n  }\n\n  protected loadNodes(treeId: string, id: string | null) {\n    const nodeService = this.nodeDispatcherService.get(treeId);\n\n    return nodeService.load(id);\n  }\n\n  protected saveNode(treeId: string, node: IOuterNode): Observable<IOuterNode> {\n    const nodeService = this.nodeDispatcherService.get(treeId);\n\n    if (node.id) {\n      return nodeService.update(node);\n    } else {\n      return nodeService.add(node, node.parentId);\n    }\n  }\n\n  protected moveNode(treeId: string, source: IOuterNode, target: IOuterNode): Observable<IOuterNode> {\n    const nodeService = this.nodeDispatcherService.get(treeId);\n\n    return nodeService.move(source, target);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/www/projects/angular2-tree/src/store/treeEffects.service.ts","import {ITreeAction, ITreeData, ITreeState} from './ITreeState';\nimport {TreeActionsService} from './treeActions.service';\nimport {IOuterNode} from '../interfaces/IOuterNode';\nimport {createFeatureSelector} from '@ngrx/store';\n\nfunction copyState(state: ITreeState, treeId: string = null) {\n  let newState = {};\n\n  // todo: find better way to clone object\n  if (treeId) {\n    Object.keys(state)\n      .filter((key) => key !== treeId)\n      .forEach((key) => newState[key] = state[key]);\n\n    newState[treeId] = {};\n\n    Object.keys(state[treeId])\n      .forEach((key) => newState[treeId][key] = state[treeId][key]);\n  } else {\n    newState = state;\n  }\n\n  return newState;\n}\n\nfunction removeNode(state: ITreeState, action: ITreeAction): ITreeState {\n  const newState = copyState(state, action.payload.treeId);\n  const treeId = action.payload.treeId;\n  const treeState = newState[treeId];\n  const node = action.payload.node;\n  const parentId = node.parentId;\n\n  if (node.id) {\n    delete treeState[node.id];\n  } else {\n    delete treeState[0];\n  }\n\n  if (parentId) {\n    const parent = treeState[node.parentId];\n\n    parent.children.splice(parent.children.indexOf(node.parentId), 1);\n  }\n\n  return newState;\n}\n\n\nfunction loadNodes(state: ITreeState, action: ITreeAction) {\n  const newState = copyState(state, action.payload.treeId);\n  let parent: IOuterNode | null = null;\n  const treeId = action.payload.treeId;\n  const parentId = action.payload.id;\n\n  if (parentId) {\n    parent = newState[treeId][parentId];\n    parent.children = [];\n  } else {\n    newState[treeId] = {};\n  }\n\n  action.payload.nodes.forEach((nodeData: IOuterNode) => {\n    nodeData.treeId = treeId;\n    if (parent) {\n      parent.children.push(nodeData.id);\n      nodeData.parents = [...parent.parents, ...[parent.id]];\n    } else {\n      nodeData.parents = [];\n    }\n\n    newState[treeId][nodeData.id] = nodeData;\n  });\n\n  return newState;\n}\n\n\nfunction insertNode(state: ITreeState, action: ITreeAction): ITreeState {\n  const newState = copyState(state, action.payload.treeId);\n  const newNode: IOuterNode = {\n    id: null,\n    treeId: action.payload.treeId,\n    name: 'New data',\n    parentId: action.payload.id,\n    children: [],\n    parents: []\n  };\n\n  newState[action.payload.treeId][0] = newNode;\n\n  return newState;\n}\n\nfunction saveNode(state: ITreeState, action: ITreeAction): ITreeState {\n  const newState = copyState(state, action.payload.treeId);\n  const old = action.payload.oldNode;\n  const newNode = action.payload.node;\n  const treeId = action.payload.treeId;\n  const treeState = newState[treeId];\n\n  if (treeState[0]) {\n    delete treeState[0];\n  } else {\n    delete treeState[old.id];\n  }\n\n  const nodeId = newNode.id;\n  treeState[nodeId] = newNode;\n\n  const parentId = newNode.parentId;\n\n  if (parentId) {\n    if (treeState[parentId]) {\n      if (!treeState[parentId].children) {\n        treeState[parentId].children = [];\n      }\n\n      treeState[parentId].children.push(nodeId);\n    }\n\n    newNode.children = Object.keys(state[treeId])\n      .filter((key: string) => key === nodeId);\n  }\n\n  return newState;\n}\n\nfunction moveNode(state: ITreeState, action: ITreeAction) {\n  const newState = copyState(state, action.payload.treeId);\n  const oldNode = action.payload.source;\n  const newNode = action.payload.target;\n  const treeId = action.payload.treeId;\n  const treeState = newState[treeId];\n\n  // remove old nodes\n  delete treeState[oldNode.id];\n\n  // remove info about removed child\n  if (oldNode.parentId) {\n    const parent = treeState[oldNode.parentId];\n    parent.children.splice(parent.children.indexOf(oldNode.id), 1);\n  }\n\n  // add data\n  treeState[newNode.id] = newNode;\n\n  if (newNode.parentId) {\n    const newParent = treeState[newNode.parentId];\n\n    if (newParent.children) {\n      newParent.children.push(newNode.id);\n    }\n    newNode.parents = [...newParent.parents, ...[newParent.id]];\n  } else {\n    newNode.parents = [];\n  }\n\n  return newState;\n}\n\nfunction registerTree(state: ITreeState, action: ITreeAction) {\n  const newState = copyState(state);\n\n  newState[action.payload.treeId] = <ITreeData>{};\n\n  return newState;\n}\n\nexport function treeReducer(state: ITreeState = {}, action: ITreeAction): ITreeState {\n  switch (action.type) {\n    case TreeActionsService.TREE_REGISTER:\n      return registerTree(state, action);\n    case TreeActionsService.TREE_SAVE_NODE_SUCCESS:\n      return saveNode(state, action);\n    case TreeActionsService.TREE_DELETE_NODE_SUCCESS:\n      return removeNode(state, action);\n    case TreeActionsService.TREE_INSERT_NODE:\n      return insertNode(state, action);\n    case TreeActionsService.TREE_LOAD_SUCCESS:\n      return loadNodes(state, action);\n    case TreeActionsService.TREE_MOVE_NODE_SUCCESS:\n      return moveNode(state, action);\n    case TreeActionsService.TREE_DELETE_NODE:\n    case TreeActionsService.TREE_EDIT_NODE_START:\n    case TreeActionsService.TREE_EXPAND_NODE:\n    case TreeActionsService.TREE_LOAD:\n    case TreeActionsService.TREE_MOVE_NODE:\n    case TreeActionsService.TREE_SAVE_NODE:\n      return state;\n    default:\n      return state;\n  }\n\n}\n\nexport const treeStateSelector = createFeatureSelector<ITreeState>('trees');\n\n\n\n// WEBPACK FOOTER //\n// /home/www/projects/angular2-tree/src/store/treeReducer.ts","module.exports = \"<div class=\\\"tree\\\">\\n  <button *ngIf=\\\"treeModel.configuration.showAddButton\\\" class=\\\"btn btn-default\\\" (click)=\\\"onAdd()\\\">\\n    <i class=\\\"fa fa-plus\\\"></i> {{'RI_TREE_LBL_ADD_NODE' | translate}}\\n  </button>\\n  <div #customTemplate><!-- no space --><ng-content></ng-content><!-- no space --></div>\\n  <div *ngIf=\\\"customTemplate.childNodes.length === 0\\\"><ri-tree-item *ngFor=\\\"let node of treeModel.getRootNodes() | async\\\" [node]=\\\"node\\\" [treeModel]=\\\"treeModel\\\"\\n                                                                    [contextMenu]=\\\"contextMenu\\\"></ri-tree-item>\\n  </div>\\n  <ri-dropzone [treeModel]=\\\"treeModel\\\"></ri-dropzone>\\n  <context-menu #contextMenu>\\n    <ng-template *ngFor=\\\"let menuItem of menuList\\\" contextMenuItem let-item\\n              (execute)=\\\"onContextMenuClick(menuItem.name, $event.item)\\\">\\n      <span class=\\\"{{menuItem.iconCls}}\\\" style=\\\"width: 20px; display: inline-block;\\\"></span>\\n      {{menuItem.text | translate}}\\n    </ng-template>\\n  </context-menu>\\n</div>\\n\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/www/projects/angular2-tree/src/tree.component.html\n// module id = ../../../../../src/tree.component.html\n// module chunks = main","exports = module.exports = require(\"../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".tree {\\n  list-style-type: none;\\n  margin: 0;\\n  padding-left: 0;\\n  position: relative;\\n}\\n.tree .dropdown {\\n  position: inherit;\\n}\\n.tree .dropdown-menu {\\n  position: absolute !important;\\n}\\n.tree .pointer {\\n  cursor: pointer;\\n}\\n.tree .tree {\\n  margin-left: 20px;\\n}\\n.tree .tree-edit-btn,\\n.tree .tree-remove-btn {\\n  display: none;\\n}\\n.tree .tree-item {\\n  padding: 2px 0;\\n}\\n.tree .tree-item.tree-item-selected > .tree-item-name {\\n  padding: 0 1px;\\n  border: 1px solid #4684ee;\\n  background-color: #549dee;\\n}\\n.tree .tree-item i {\\n  width: 8px !important;\\n  text-align: center;\\n}\\n.tree .tree-item .no-children {\\n  display: inline-block;\\n  width: 8px;\\n}\\n.tree .tree-item .tree-item-name {\\n  display: inline-block;\\n  line-height: 22px;\\n  height: 22px;\\n  padding: 0 2px;\\n  cursor: pointer;\\n}\\n.tree .tree-item .tree-item-name:hover {\\n  background-color: rgba(161, 197, 238, 0.2);\\n}\\n.tree .tree-item .tree-item-name:hover .tree-edit-btn,\\n.tree .tree-item .tree-item-name:hover .tree-remove-btn {\\n  display: inline-block;\\n}\\n.tree .tree-item form {\\n  display: inline-block;\\n}\\n.tree .tree-item form input {\\n  width: auto;\\n}\\n\", \"\"]);\n\n// exports\n\n\n/*** EXPORTS FROM exports-loader ***/\nmodule.exports = module.exports.toString();\n\n\n//////////////////\n// WEBPACK FOOTER\n// /home/www/projects/angular2-tree/src/tree.component.less\n// module id = ../../../../../src/tree.component.less\n// module chunks = main","import {Component, OnChanges, Input, ViewEncapsulation, ViewChild, OnInit} from '@angular/core';\nimport {IOuterNode} from './interfaces/IOuterNode';\nimport {IContextMenu} from './interfaces/IContextMenu';\nimport {TreeModel} from './models/TreeModel';\nimport {ContextMenuComponent} from 'ngx-contextmenu';\nimport {DragAndDrop} from './dragAndDrop/dragAndDrop.service';\nimport {IDragAndDrop} from './interfaces/IDragAndDrop';\nimport {TreeActionsService} from './store/treeActions.service';\nimport {Store} from '@ngrx/store';\nimport {ITreeState} from './store/ITreeState';\nimport {filter} from 'rxjs/operators';\n\n@Component({\n  encapsulation: ViewEncapsulation.None,\n  selector: 'ri-tree',\n  templateUrl: './tree.component.html',\n  styleUrls: ['./tree.component.less']\n})\nexport class TreeComponent implements OnInit, OnChanges {\n  @Input() treeModel: TreeModel;\n\n  @ViewChild('contextMenu') contextMenu: ContextMenuComponent;\n\n  /**\n   * List of default options for context menu\n   *\n   * @type {{name: string; text: string; iconCls: string}[]}\n   */\n  private defaultOptions: IContextMenu[] = [\n    {\n      name: 'onEdit',\n      text: 'RI_TREE_LBL_EDIT_NODE',\n      iconCls: 'fa fa-edit'\n    },\n    {\n      name: 'onDelete',\n      text: 'RI_TREE_LBL_REMOVE_NODE',\n      iconCls: 'fa fa-trash'\n    }\n  ];\n\n  /**\n   * List of context menu items\n   *\n   * @type {Array}\n   */\n  public menuList: IContextMenu[] = [];\n\n  public constructor(protected store: Store<ITreeState>,\n                     protected treeActions: TreeActionsService,\n                     protected dragAndDrop: DragAndDrop) {\n\n  }\n\n  public ngOnInit() {\n    this.registerMove();\n  }\n\n  public ngOnChanges(data: any) {\n    this.menuList = [];\n    this.defaultOptions.forEach((item) => this.menuList.push(item));\n  }\n\n  public onAdd() {\n    const parent = this.treeModel.currentSelectedNode$.getValue();\n    const parentId = parent ? parent.id : null;\n\n    this.store.dispatch(this.treeActions.expandNode(this.treeModel.treeId, parent));\n    this.store.dispatch(this.treeActions.insertNode(this.treeModel.treeId, parentId));\n  }\n\n  /**\n   * On select item from context menu\n   *\n   * @param name - name of the event\n   * @param node - data item\n   */\n  public onContextMenuClick(name: string, node: IOuterNode) {\n\n    switch (name) {\n      case 'onEdit':\n        event.stopPropagation();\n        this.store.dispatch(this.treeActions.editNodeStart(node));\n        break;\n      case 'onDelete':\n        this.store.dispatch(this.treeActions.deleteNode(this.treeModel.treeId, node));\n        break;\n      default:\n        console.warn('Unknown context menu action: ' + name);\n    }\n  }\n\n  /**\n   * Register data \"move event\"\n   */\n  protected registerMove(): void {\n    if (this.treeModel.configuration.disableMoveNodes) {\n      return;\n    }\n\n    this.dragAndDrop.drop$\n      .pipe(\n        filter((data: IDragAndDrop) => {\n          if (data.type === DragAndDrop.DROP_DATA_TYPE) {\n            if (data.dropNode) {\n              return data.dropNode.data.treeId === this.treeModel.treeId;\n            } else {\n              return data.dragNode.data.treeId === this.treeModel.treeId;\n            }\n          } else {\n            if (data.dropNode && data.dropNode.zones && data.dropNode.zones.indexOf(data.dragNode.zoneId) === -1) {\n              return false;\n            }\n\n            return true;\n          }\n        })\n      )\n      .subscribe((data: IDragAndDrop) => {\n\n        const dropNode = data.dropNode ? data.dropNode.data : null;\n        this.store.dispatch(this.treeActions.moveNode(data.type, this.treeModel.treeId, data.dragNode.data, dropNode));\n      });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/www/projects/angular2-tree/src/tree.component.ts","import {NgModule, CUSTOM_ELEMENTS_SCHEMA, ModuleWithProviders} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {ItemComponent} from './item/item.component';\nimport {NodeService} from './service/node.service';\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\nimport {TreeComponent} from './tree.component';\nimport {DndModule, DraggableComponent} from 'ng2-dnd';\nimport {DragAndDrop} from './dragAndDrop/dragAndDrop.service';\nimport {DraggableDirective} from './dragAndDrop/draggable.directive';\nimport {DroppableDirective} from './dragAndDrop/droppable.directive';\nimport {DropzoneComponent} from './dragAndDrop/dropzone/dropzone.component';\nimport {TreeActionsService} from './store/treeActions.service';\nimport {StoreModule} from '@ngrx/store';\nimport {EffectsModule} from '@ngrx/effects';\nimport {TreeEffectsService} from './store/treeEffects.service';\nimport {NodeDispatcherService} from './service/nodesDispatcher.service';\nimport {TranslateModule, TranslateService} from 'ng2-translate';\nimport {HttpClientModule} from '@angular/common/http';\nimport {ContextMenuModule} from 'ngx-contextmenu';\nimport {treeReducer} from './store/treeReducer';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    ContextMenuModule,\n    DndModule.forRoot(),\n    EffectsModule.forFeature([TreeEffectsService]),\n    HttpClientModule,\n    FormsModule,\n    ReactiveFormsModule,\n    StoreModule.forFeature('trees', treeReducer),\n    TranslateModule,\n  ],\n  declarations: [TreeComponent, ItemComponent, DraggableDirective, DroppableDirective, DropzoneComponent],\n  exports: [TreeComponent, ItemComponent, DraggableDirective, DroppableDirective, DropzoneComponent, DraggableComponent, StoreModule, EffectsModule],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\nexport class TreeModule {\n\n  public static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: TreeModule,\n      providers: [\n        DragAndDrop,\n        NodeDispatcherService,\n        NodeService,\n        TreeActionsService,\n        TreeEffectsService\n      ]\n    }\n  }\n\n  public constructor(private translate: TranslateService) {\n    this.setTranslationForEN();\n    this.setTranslationForPL();\n    this.translate.use('en');\n  }\n\n  private setTranslationForPL(): void {\n    this.translate.setTranslation('pl', {\n      RI_TREE_LBL_ADD_NODE: 'Dodaj',\n      RI_TREE_LBL_EDIT_NODE: 'Edytuj',\n      RI_TREE_LBL_REMOVE_NODE: 'Usuń',\n      RI_TREE_LBL_DROP_ZONE: 'Upuść tutaj'\n    });\n  }\n\n  private setTranslationForEN(): void {\n    this.translate.setTranslation('en', {\n      RI_TREE_LBL_ADD_NODE: 'Add data',\n      RI_TREE_LBL_EDIT_NODE: 'Edit data',\n      RI_TREE_LBL_REMOVE_NODE: 'Delete data',\n      RI_TREE_LBL_DROP_ZONE: 'Drop here to move data to root level'\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// /home/www/projects/angular2-tree/src/tree.module.ts"],"sourceRoot":"webpack:///"}